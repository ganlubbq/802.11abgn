//---------------------------------------------------------------------------------------------------------//
//	Function Description: bit reverse
//---------------------------------------------------------------------------------------------------------//
//	History:
//		Created by LiuHang			Date: 2014-10-30			Version: 1.0
//
//---------------------------------------------------------------------------------------------------------//
//	Function List:
//---------------------------------------------------------------------------------------------------------//
//	Input Parameters:
//			* in : 输入十进制序列
//			len : 输入序列的长度
//			N : 十进制转化为二进制的位数，程序中取8
//---------------------------------------------------------------------------------------------------------//
//	Output Parameters:
//			*out : bit翻转后的十进制序列
//---------------------------------------------------------------------------------------------------------//
// Reference:
//		bitrev.m
//---------------------------------------------------------------------------------------------------------//
#include <iostream>
#include"primaryFunctionalFunc.h"
#include "stdafx.h"
using namespace std;

void bitrev(int *in, int len, int N, int *out)
{
	int cache=0;

	for (int i = 0; i < len; i++)
	{
		for (int j = 0; j < N; j++) 
		{
			cache = *(in + i) & (1 << j); // cache为in的右数第i位有in的值，其它位数为0 
			if (j < N / 2)
			{
				cache <<= (N - 1) - 2 * j;
			}
			else
			{
				cache >>= 2 * j - (N - 1);
			 }
			*(out + i) += cache;
		 }
	}
}
